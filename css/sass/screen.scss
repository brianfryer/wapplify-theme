@import 'normalize';
@import 'bourbon/bourbon';
@import 'grid-settings';
@import 'neat/neat';
@import 'blend-modes';

// FONTS
$main-font: 'droid sans', sans-serif;

// COLORS
$blue: #123E5E;
$orange: #DF9630;

/* =========================================================================== *
 *  Top-level elements  *
 * ==================== */

body {
  color: #222;
  font-family: $main-font;
  background-color: $blue;
}

h1, h2, h3, h4, h5, h6 {
  margin-top: 0;
  line-height: 1;
}

a[href] {
  color: $orange;

  &:hover {
    color: tint($blue, 30%);
  }
}

hr {
  @extend .clearboth;
  margin: 10px 0;
  border: none;
  border-top: 1px dotted tint($blue, 50%);
}


/* =========================================================================== *
 *  Class-level elements  *
 * ====================== */

.floatleft  { float: left; }
.floatright { float: right; }
.clearboth  { clear: both; }

.destroy { display: none; }

.screen-reader-text { @extend .destroy; }

.btn, a.btn, button.btn {
  @include inline-block;
  margin: 0 5px;
  padding: 7px 14px;
  color: #fff;
  font-size: em(18);
  font-weight: bold;
  text-decoration: none;
  text-shadow: 0 1px 0 rgba(#000, 0.2);
  text-transform: uppercase;
  border-radius: 18px;
  border: none;
  background-color: rgba(#000, 0.3);

  &:hover {
    color: #fff;
    text-shadow: 0 1px 0 rgba(#000, 0.4);
    background-color: rgba(#000, 0.4)
  }
  &.small {
    @include pad(3px 6px);
    font-size: em(12);
    border-radius: 8px;
  }
  &.orange {
    background-color: $orange;

    &:hover {
      background-color: shade($orange, 10%)
    }
  }
  &.blue {
    background-color: $blue;

    &:hover {
      background-color: tint($blue, 10%)
    }
  }
}

.header-widget {
  @include clearfix;
  margin-top: 10px;
}

.hero-widget {
  @include span-columns(6);

  &:nth-child(2) {
    @include omega;
  }
  p {
    margin-top: 0;
  }
}

.blurb-widget {
  @include span-columns(3);
  text-align: center;

  &:nth-child(4) {
    @include omega;
  }
  p {
    margin-top: 0;
  }
  img {
    width: 100%;
  }
  a {
    color: #fff;
    text-decoration: none;

    > span {
      position: relative;
      display: block;
      margin-top: -39px;
      padding: 8px 0;
      background-color: rgba($blue, 0.4);
    }
    &:hover {

      > span {
        background-color: rgba($orange, 0.4);
      }
    }
  }
}

.footer-widget {
  @include span-columns(2);
  font-size: 80%;

  &:not(:first-child) {
    @include shift(0.5);
  }

  h3 {
    padding-bottom: em(12);
    border-bottom: 1px dotted tint($blue, 20%);
  }
}

.content {
  line-height: 1.5;
}

.page-template {

  .content {
    @include span-columns(9);
  }
  .sidebar {
    @include span-columns(3);
  }
}

/* =========================================================================== *
*  Structural elements  *
* ===================== */

.header-container,
.content-container,
.footer-container {
  @include span-columns(12);
}

.wrapper { @include outer-container; }

.header-container {
  @include pad(20px 0 0);
  background-color: #fff;

  > header {

    > hgroup {
      @include span-columns(8);
    }
    > .header-widgets {
      @include span-columns(4);
      @include omega;
    }
    > nav {
      @include span-columns(12);
      margin-top: 10px;
    }
  }
}

.content-container {
  margin-top: -23px;
  border-top: 1px dotted rgba(#000, 0.05);
  //background-image: url('/wp-content/themes/wapplify-theme/img/subtle_dots.png');
  background-color: #eee;

  > section {
    margin-top: 43px;
    margin-bottom: 30px;

    > article {
      @include pad(30px);
      border-radius: 6px;
      background-color: #fff;
      box-shadow: 0 1px 4px 0 rgba(#000, 0.3);
    }
  }
}

.footer-container {
  padding: $gutter 0;
  border-top: 1px solid #bbb;
  background-color: $blue;
  box-shadow: inset 0 2px 6px rgba(#000, 0.2);
}

footer {

  a[href] {
    color: $orange;

    &:hover {
      color: tint($blue, 50%);
    }
  }
  > section {}
  nav {}
}


/* =========================================================================== *
 *  Navigation elements  *
 * ===================== */

%menu {
   margin: 0;
   padding: 0;
   list-style: none;
}

nav {

  .menu {
    @extend %menu;
  }

  &#primary {
    position: relative;
    z-index: 9;
    @include span-columns(12);
    font-size: em(18);
    text-align: center;

    > ul {
      @include row(table);

      > li {
        @include span-columns(3, table);
        margin: 0;
        padding: 0;

        &:first-child {

          a {
            border-top-left-radius: 6px;
            border-bottom-left-radius: 6px;
            border-left: none;
          }
        }
        &:last-child {

          a {
            border-top-right-radius: 6px;
            border-bottom-right-radius: 6px;
            border-right: none;
          }
        }
        &.current-menu-item {

          a {
            position: relative;
            @include linear-gradient(tint($blue, 20%) 50%, tint($blue, 15%) 0%);
            &:after,
            &:before {
              top: 100%;
              border: solid transparent;
              content: " ";
              height: 0;
              width: 0;
              position: absolute;
              pointer-events: none;
            }
            &:after {
              border-color: rgba(#fff, 0);
              border-top-color: tint($blue, 15%);
              border-width: 10px;
              left: 50%;
              margin-left: -10px;
            }
            &:before {
              /*
              border-color: rgba(#fff, 0);
              border-top-color: $blue;
              border-width: 13px;
              left: 50%;
              margin-left: -13px;
              */
            }
          }
        }
      }
    }
    a {
      display: block;
      width: 100%;
      @include pad(12px 0);
      color: #fff;
      text-decoration: none;
      text-shadow: 0 1px 0 rgba(#000, 0.6);
      border-right: 1px solid rgba(#000, 0.4);
      border-left: 1px solid rgba(#fff, 0.1);
      @include linear-gradient(tint($blue, 5%) 50%, $blue 0%);

      &:hover {
        //color: $blue;
        //text-shadow: 0 -1px 0 rgba(#fff, 0.6);
        @include linear-gradient(tint($orange, 15%) 50%, $orange 0%);
      }
    }
  }
}


/* =========================================================================== *
 *  "ID"-level elements  *
 * ===================== */

#logo {
  @extend .floatleft;
  margin: 0;

  > a {}
}

#tagline {
  @extend .floatleft;
  margin: 28px 0 0 16px;
  padding: 7px 0 7px 18px;
  color: #999;
  font-size: 1.2em;
  font-weight: normal;
  line-height: 1;
  text-transform: lowercase;
  border-left: 1px dotted #aaa;
}

#menu-login-menu {
  @extend %menu;
  font-size: 80%;
  text-transform: uppercase;

  > li {
    @include inline-block;
    margin: 0 0 0 6px;

    &:not(:last-child):after {
      content: '\2022';
      margin-left: 10px;
      color: #999;
    }
  }
}

.menu-login-menu-container {
  @extend .floatright;
}

header #searchform {
  @extend .floatright;

  input[type=text] {
    @include pad(3px);
    border-radius: 3px;
    border: 1px solid #ccc;
    background-color: #fff;
  }
  input[type=submit] {
    @extend .btn;
    @extend .small;
    position: relative;
    top: -2px;
    margin: 0;
  }
}

#menu-navigation-bottom,
#menu-social-media-links {
  @extend %menu;
}

.home {

  article {
    border-top-right-radius: 0 !important;
    border-top-left-radius: 0 !important;
    border-top: 1px solid tint($blue, 50%);

    > .content {
      @include span-columns(7.5);
    }
    > .like-box {
      @include span-columns(4);
      @include shift(0.5);
      @include omega;
    }
  }
}

.home-hero,
.home-blurbs {
  @include pad($gutter);
  background-color: #fff;
  box-shadow: 0 1px 4px 0 rgba(#000, 0.3);
}
.home-hero {
  border-top-right-radius: 6px;
  border-top-left-radius: 6px;

  h2 {
    font-weight: normal;
    line-height: 1.4;

  }
}
.home-blurbs {
  @include row(table);
}

.footer-widgets {
  color: tint($blue, 90%);
  line-height: 1.5;
}

.phone {
  padding: 3px 0 3px 22px;
  background-image: url('/wp-content/themes/wapplify-theme/img/phone-icon.png');
  background-position: left center;
  background-repeat: no-repeat;

  > a {
    position: relative;
    top: 1px;
    font-size: 120%;
    font-weight: bold;
  }
}
